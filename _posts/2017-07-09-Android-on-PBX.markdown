---
layout: post
title:  LAN環境Android無料通話
date:   2017-07-09 21:23:00 +0900
categories: Android
---
【日付：2017/07/07〜2017/07/09】

1. (初動)    
構内電話網(IP-PBX)を構築してAndroidで無料通話をやってみよう！  
[http://blog.zamuu.net/2011/0429/ip-pbx-android/](http://blog.zamuu.net/2011/0429/ip-pbx-android/)

1. Pantheon(KLUE 2.0)が入っていたジャンクPCに、Cent OSを入れる

1. せっかくだから最新版のイメージファイルを落とす

1. rufusを使い、USBブートディスク作成。

1. イメージファイルが4GB越えてて、使おうと思っていた、USBメモリ（4G）が使用不可。32Gを用意する。

1. ブートメニューが起動せず。  
イメージファイル作成が失敗したのか？
何度トライしてもうまく行かず。何故だ！？

1. どうやら、このジャンクPCでは32GのUSBメモリを認識できないみたいだ。  
こういう、生々しい状況があるんで、「古いPCでも簡単に、遜色なく利用できますよ。」なんて情報は大してアテにならん。  
渋々、ミニマム版(800M)のイメージファイルで作成する。

1. インストール完了。

1. インストール時に、ネットワーク設定を忘れてた（インストールボタン押したあと、子供を公園に連れて行った）ため、ネットワーク設定。

1. Cent OS 7から、設定方法が結構変わってる。。。。  
（無線LAN内蔵でないのも影響し、少し面倒になってる。）
インストール時に認識させて設定するほうが楽そう。  
再インストール。

1. ついでにGUI環境にしておこう。

1. 完了。  
ログイン時、デフォルトでデスクトップ環境になるようにしておこう。

1. え？このシリーズって、デフォルトランレベル設定できないの？  
ってか、ランレベルの切り替えもうまくいかんぞ。。  
もういいや。ログインしてstartxで。

1. 重い・・・あれ？こんなに動き悪かったっけか？  
Asteriskインスト終わって、設定をチマチマやっていくも、息子の妨害に遭い、PCが床に落下。
TVの放送終了後のような、悲しい画面が目の前に広がる。  
嫁曰く、「シムシティの怪獣みたいな存在だから諦めて。」

1. 不安程度が増してきたし、あのPCはでやるのは、もういいや。  
いっそ、VPCとかでやってる人いないかな。  
参照元記事の日付が５年前なんで、ちょっと不安だったのもあり、少し調べる。

1. 居たよ！やってる人！  
[http://qiita.com/ganezasan/items/05b16a2254f066f6bbdc](http://qiita.com/ganezasan/items/05b16a2254f066f6bbdc)

1. セキュリティグループを作成。EC2インスタンス作成。  
インスタンス名は「Asterisk」としておこう。

1. 特に行き詰る事はなく、インストール完了。

1. [ec2-user@ip-xxx-xxx-xxx-xxx asterisk-1.8.8.1]$ make sample  
make: *** No rule to make target `sample'.  Stop.  
[ec2-user@ip-xxx-xxx-xxx-xxx asterisk-1.8.8.1]$ make config  
We could not install init scripts for your distribution.  
あれ？サンプル設定ファイルのインストールできねーじゃん。  
今日はもう疲れたから寝よう。



